{"ast":null,"code":"var _jsxFileName = \"/Users/charvibansal/Projects/Build-aaa-thon/src/ScrollVelocity.js\",\n  _s = $RefreshSig$();\nimport { useRef, useLayoutEffect, useState } from \"react\";\nimport { motion, useScroll, useSpring, useTransform, useMotionValue, useVelocity, useAnimationFrame } from \"framer-motion\";\nimport \"./ScrollVelocity.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction useElementWidth(ref) {\n  _s();\n  const [width, setWidth] = useState(0);\n  useLayoutEffect(() => {\n    function updateWidth() {\n      if (ref.current) {\n        setWidth(ref.current.offsetWidth);\n      }\n    }\n    updateWidth();\n    window.addEventListener(\"resize\", updateWidth);\n    return () => window.removeEventListener(\"resize\", updateWidth);\n  }, [ref]);\n  return width;\n}\n_s(useElementWidth, \"Zox8iQeCjOxJKLNPL5iAhTzGKnQ=\");\nexport const ScrollVelocity = ({\n  scrollContainerRef,\n  texts = [],\n  velocity = 100,\n  className = \"\",\n  damping = 50,\n  stiffness = 400,\n  numCopies = 6,\n  velocityMapping = {\n    input: [0, 1000],\n    output: [0, 5]\n  },\n  parallaxClassName = \"parallax\",\n  scrollerClassName = \"scroller\",\n  parallaxStyle,\n  scrollerStyle\n}) => {\n  var _s2 = $RefreshSig$();\n  function VelocityText({\n    children,\n    baseVelocity = velocity,\n    scrollContainerRef,\n    className = \"\",\n    damping,\n    stiffness,\n    numCopies,\n    velocityMapping,\n    parallaxClassName,\n    scrollerClassName,\n    parallaxStyle,\n    scrollerStyle\n  }) {\n    _s2();\n    const baseX = useMotionValue(0);\n    const scrollOptions = scrollContainerRef ? {\n      container: scrollContainerRef\n    } : {};\n    const {\n      scrollY\n    } = useScroll(scrollOptions);\n    const scrollVelocity = useVelocity(scrollY);\n    const smoothVelocity = useSpring(scrollVelocity, {\n      damping: damping !== null && damping !== void 0 ? damping : 50,\n      stiffness: stiffness !== null && stiffness !== void 0 ? stiffness : 400\n    });\n    const velocityFactor = useTransform(smoothVelocity, (velocityMapping === null || velocityMapping === void 0 ? void 0 : velocityMapping.input) || [0, 1000], (velocityMapping === null || velocityMapping === void 0 ? void 0 : velocityMapping.output) || [0, 5], {\n      clamp: false\n    });\n    const copyRef = useRef(null);\n    const copyWidth = useElementWidth(copyRef);\n    function wrap(min, max, v) {\n      const range = max - min;\n      const mod = ((v - min) % range + range) % range;\n      return mod + min;\n    }\n    const x = useTransform(baseX, v => {\n      if (copyWidth === 0) return \"0px\";\n      return `${wrap(-copyWidth, 0, v)}px`;\n    });\n    const directionFactor = useRef(1);\n    useAnimationFrame((t, delta) => {\n      let moveBy = directionFactor.current * baseVelocity * (delta / 1000);\n      if (velocityFactor.get() < 0) {\n        directionFactor.current = -1;\n      } else if (velocityFactor.get() > 0) {\n        directionFactor.current = 1;\n      }\n      moveBy += directionFactor.current * moveBy * velocityFactor.get();\n      baseX.set(baseX.get() + moveBy);\n    });\n    const spans = [];\n    for (let i = 0; i < numCopies; i++) {\n      spans.push(/*#__PURE__*/_jsxDEV(\"span\", {\n        className: className,\n        ref: i === 0 ? copyRef : null,\n        children: children\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this));\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: parallaxClassName,\n      style: parallaxStyle,\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        className: scrollerClassName,\n        style: {\n          x,\n          ...scrollerStyle\n        },\n        children: spans\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this);\n  }\n  _s2(VelocityText, \"iUcSI+gAHe4r7p60kbGx4qbjHQM=\", false, function () {\n    return [useMotionValue, useScroll, useVelocity, useSpring, useTransform, useElementWidth, useTransform, useAnimationFrame];\n  });\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: texts.map((text, index) => /*#__PURE__*/_jsxDEV(VelocityText, {\n      className: className,\n      baseVelocity: index % 2 !== 0 ? -velocity : velocity,\n      scrollContainerRef: scrollContainerRef,\n      damping: damping,\n      stiffness: stiffness,\n      numCopies: numCopies,\n      velocityMapping: velocityMapping,\n      parallaxClassName: parallaxClassName,\n      scrollerClassName: scrollerClassName,\n      parallaxStyle: parallaxStyle,\n      scrollerStyle: scrollerStyle,\n      children: [text, \"\\xA0\"]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n};\n_c = ScrollVelocity;\nexport default ScrollVelocity;\nvar _c;\n$RefreshReg$(_c, \"ScrollVelocity\");","map":{"version":3,"names":["useRef","useLayoutEffect","useState","motion","useScroll","useSpring","useTransform","useMotionValue","useVelocity","useAnimationFrame","jsxDEV","_jsxDEV","useElementWidth","ref","_s","width","setWidth","updateWidth","current","offsetWidth","window","addEventListener","removeEventListener","ScrollVelocity","scrollContainerRef","texts","velocity","className","damping","stiffness","numCopies","velocityMapping","input","output","parallaxClassName","scrollerClassName","parallaxStyle","scrollerStyle","_s2","$RefreshSig$","VelocityText","children","baseVelocity","baseX","scrollOptions","container","scrollY","scrollVelocity","smoothVelocity","velocityFactor","clamp","copyRef","copyWidth","wrap","min","max","v","range","mod","x","directionFactor","t","delta","moveBy","get","set","spans","i","push","fileName","_jsxFileName","lineNumber","columnNumber","style","div","map","text","index","_c","$RefreshReg$"],"sources":["/Users/charvibansal/Projects/Build-aaa-thon/src/ScrollVelocity.js"],"sourcesContent":["import { useRef, useLayoutEffect, useState } from \"react\";\nimport {\n  motion,\n  useScroll,\n  useSpring,\n  useTransform,\n  useMotionValue,\n  useVelocity,\n  useAnimationFrame,\n} from \"framer-motion\";\nimport \"./ScrollVelocity.css\";\n\nfunction useElementWidth(ref) {\n  const [width, setWidth] = useState(0);\n\n  useLayoutEffect(() => {\n    function updateWidth() {\n      if (ref.current) {\n        setWidth(ref.current.offsetWidth);\n      }\n    }\n    updateWidth();\n    window.addEventListener(\"resize\", updateWidth);\n    return () => window.removeEventListener(\"resize\", updateWidth);\n  }, [ref]);\n\n  return width;\n}\n\nexport const ScrollVelocity = ({\n  scrollContainerRef,\n  texts = [],\n  velocity = 100,\n  className = \"\",\n  damping = 50,\n  stiffness = 400,\n  numCopies = 6,\n  velocityMapping = { input: [0, 1000], output: [0, 5] },\n  parallaxClassName = \"parallax\",\n  scrollerClassName = \"scroller\",\n  parallaxStyle,\n  scrollerStyle,\n}) => {\n  function VelocityText({\n    children,\n    baseVelocity = velocity,\n    scrollContainerRef,\n    className = \"\",\n    damping,\n    stiffness,\n    numCopies,\n    velocityMapping,\n    parallaxClassName,\n    scrollerClassName,\n    parallaxStyle,\n    scrollerStyle,\n  }) {\n    const baseX = useMotionValue(0);\n    const scrollOptions = scrollContainerRef ? { container: scrollContainerRef } : {};\n    const { scrollY } = useScroll(scrollOptions);\n    const scrollVelocity = useVelocity(scrollY);\n    const smoothVelocity = useSpring(scrollVelocity, {\n      damping: damping ?? 50,\n      stiffness: stiffness ?? 400,\n    });\n    const velocityFactor = useTransform(\n      smoothVelocity,\n      velocityMapping?.input || [0, 1000],\n      velocityMapping?.output || [0, 5],\n      { clamp: false }\n    );\n\n    const copyRef = useRef(null);\n    const copyWidth = useElementWidth(copyRef);\n\n    function wrap(min, max, v) {\n      const range = max - min;\n      const mod = (((v - min) % range) + range) % range;\n      return mod + min;\n    }\n\n    const x = useTransform(baseX, (v) => {\n      if (copyWidth === 0) return \"0px\";\n      return `${wrap(-copyWidth, 0, v)}px`;\n    });\n\n    const directionFactor = useRef(1);\n    useAnimationFrame((t, delta) => {\n      let moveBy = directionFactor.current * baseVelocity * (delta / 1000);\n\n      if (velocityFactor.get() < 0) {\n        directionFactor.current = -1;\n      } else if (velocityFactor.get() > 0) {\n        directionFactor.current = 1;\n      }\n\n      moveBy += directionFactor.current * moveBy * velocityFactor.get();\n      baseX.set(baseX.get() + moveBy);\n    });\n\n    const spans = [];\n    for (let i = 0; i < numCopies; i++) {\n      spans.push(\n        <span className={className} key={i} ref={i === 0 ? copyRef : null}>\n          {children}\n        </span>\n      );\n    }\n\n    return (\n      <div className={parallaxClassName} style={parallaxStyle}>\n        <motion.div\n          className={scrollerClassName}\n          style={{ x, ...scrollerStyle }}\n        >\n          {spans}\n        </motion.div>\n      </div>\n    );\n  }\n\n  return (\n    <section>\n      {texts.map((text, index) => (\n        <VelocityText\n          key={index}\n          className={className}\n          baseVelocity={index % 2 !== 0 ? -velocity : velocity}\n          scrollContainerRef={scrollContainerRef}\n          damping={damping}\n          stiffness={stiffness}\n          numCopies={numCopies}\n          velocityMapping={velocityMapping}\n          parallaxClassName={parallaxClassName}\n          scrollerClassName={scrollerClassName}\n          parallaxStyle={parallaxStyle}\n          scrollerStyle={scrollerStyle}\n        >\n          {text}&nbsp;\n        </VelocityText>\n      ))}\n    </section>\n  );\n};\n\nexport default ScrollVelocity; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}